<main class="main">
  <nav aria-label="breadcrumb" class="breadcrumb-nav">
    <div class="container-fluid">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/">Acasa</a></li>
        <li class="breadcrumb-item active" aria-current="page">Livrare</li>
      </ol>
    </div><!-- End .container-fluid -->
  </nav>

  <div class="page-header">
    <div class="container">
      <h1>Checkout</h1>
    </div><!-- End .container -->
  </div><!-- End .page-header -->

  <div class="container">
    <ul class="checkout-progress-bar">
      <li class="active">
        <span>Livrare</span>
      </li>
      <li>
        <span>Confirmare &amp; Plata</span>
      </li>
    </ul>
    <div class="row">
      <div class="col-lg-8 padding-right-lg">
        <ul class="checkout-steps">
          <li>
            <h2 class="step-title">Adresa de livrare</h2>

            <form>
              <div class="form-group required-field">
                <label>Email </label>
                <div class="form-control-tooltip">
                  <input type="email" class="form-control" required>
                </div><!-- End .form-control-tooltip -->
              </div><!-- End .form-group -->

              <div class="form-group required-field">
                <label>Parola </label>
                <input type="password" class="form-control" required>
              </div><!-- End .form-group -->

              <p>Daca ai deja cont, te poti autentifica sau poti continua comanda.</p>
              <div class="form-footer">
                <button type="submit" class="btn btn-primary">Autentificare</button>
                <a href="forgot-password.html" class="forget-pass"> Ai uitat parola?</a>
              </div><!-- End .form-footer -->
            </form>

           <form [formGroup]="form" (ngSubmit)="submit()">
              <div class="form-group required-field">
                <label>Nume </label>
                <input formControlName="name" id="name" type="text" class="form-control" placeholder="ex: Mihai">
                <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">
                  <div *ngIf="f.name.errors.required">Introduceti numele</div>
                  <div *ngIf="f.name.errors.minlength">Numele trebuie sa contina cel putin 3 litere</div>
                </div>
              </div>

              <div class="form-group required-field">
                <label>Prenume </label>
                <input formControlName="lastName" id="lastName" type="text" class="form-control"
                  placeholder="ex: Popescu">
                <div *ngIf="f.lastName.touched && f.lastName.invalid" class="alert alert-danger">
                  <div *ngIf="f.lastName.errors.required">Introduceti prenumele</div>
                  <div *ngIf="f.lastName.errors.minlength">Prenumele trebuie sa contina cel putin 3 litere</div>
                </div>
              </div>

              <div class="form-group required-field">
                <label>Email </label>
                <input formControlName="email" id="email" type="text" class="form-control" placeholder="Email">
                <div *ngIf="f.email.touched && f.email.invalid" class="alert alert-danger">
                  <div *ngIf="f.email.errors.required">Introduceti emailul</div>
                  <div *ngIf="f.email.errors.minlength">Formatul nu este corect</div>
                  <div *ngIf="f.email.errors.required">Formatul nu este corect</div>
                </div>
              </div>


              <div class="form-group required-field">
                <label>Adresa </label>
                <input formControlName="address" id="address" type="text" class="form-control"
                  placeholder="ex: Strada, numar, bloc, scara, etaj, apartament">
                <div *ngIf="f.address.touched && f.address.invalid" class="alert alert-danger">
                  <div *ngIf="f.address.errors.required">Introduceti numele</div>
                  <div *ngIf="f.address.errors.minlength">Numele trebuie sa contina cel putin 3 litere</div>
                </div>
              </div>

              <div class="form-group required-field">
                <label>Judet </label>
                <input formControlName="city" id="city" type="text" class="form-control" placeholder="Judet">
                <div *ngIf="f.city.touched && f.city.invalid" class="alert alert-danger">
                  <div *ngIf="f.city.errors.required">Introduceti udetul</div>
                  <div *ngIf="f.city.errors.minlength">Numele judetului trebuie sa contina cel putin 3 litere</div>
                </div>
              </div>


              <div class="form-group required-field">
                <label>Oras </label>
                <input formControlName="town" id="town" type="text" class="form-control" placeholder="Oras">
                <div *ngIf="f.town.touched && f.town.invalid" class="alert alert-danger">
                  <div *ngIf="f.town.errors.required">Introduceti numele orasului</div>
                  <div *ngIf="f.town.errors.minlength">Numele orasului trebuie sa contina cel putin 3 litere</div>
                </div>
              </div>



              <div class="form-group required-field">
                <label>Telefon </label>
                <input formControlName="phone" id="phone" type="text" class="form-control" placeholder="07xxxxxxxx">
                <div *ngIf="f.phone.touched && f.phone.invalid" class="alert alert-danger">
                  <div *ngIf="f.phone.errors.required">Introduceti numarul</div>
                  <div *ngIf="f.phone.errors.pattern">Telefonul nu are formatul corect</div>
                </div>
              </div>
            </form> 
          </li>

          <li>
            <div class="checkout-step-shipping">
              <h2 class="step-title">Modalitate de plata</h2>
              <radio-button [items]="items" [(ngModel)]="selectedItem" ></radio-button>
            </div><!-- End .checkout-step-shipping -->
          </li>
        </ul>
      </div><!-- End .col-lg-8 -->

      <div class="col-lg-4">
        <div class="order-summary">
          <h3>Sumar</h3>

          <h4>
            <a data-toggle="collapse" href="#order-cart-section" class="collapsed" role="button" aria-expanded="false"
              aria-controls="order-cart-section">{{cartTotal$ == 1 ? cartTotal$ + ' produs' : cartTotal$ + ' prdouse'}} in cos</a>
          </h4>

          <div class="collapse" id="order-cart-section">
            <table class="table table-mini-cart">
              <tbody>
                <tr *ngFor="let product of cartItems$ | async">
                  <td class="product-col">
                    <figure class="product-image-container">
                      <a href="product.html" class="product-image">
                        <img src="{{product.image_url}}" alt="product">
                      </a>
                    </figure>
                    <div>
                      <h2 class="product-title">
                        <a href="product.html">{{product.product_name}}</a>
                      </h2>

                      <span class="product-qty">Cant: {{product.num}}</span>
                    </div>
                  </td>
                  <td class="price-col">{{product.price}} Lei</td>
                </tr>
              </tbody>
            </table>
          </div><!-- End #order-cart-section -->
        </div><!-- End .order-summary -->
      </div><!-- End .col-lg-4 -->
    </div><!-- End .row -->

    <div class="row">
      <div class="col-lg-8">
        <div class="checkout-steps-action">
          <button class="btn btn-primary float-right" type="submit" (click)="submit()"
            [disabled]="!form.valid">Inainte</button>
          <!-- <a href="checkout-review.html" class="btn btn-primary float-right">NEXT</a> -->
        </div><!-- End .checkout-steps-action -->
      </div><!-- End .col-lg-8 -->
    </div><!-- End .row -->
  </div><!-- End .container -->

  <div class="mb-6"></div><!-- margin -->
</main><!-- End .main -->

